"use strict";(self.webpackChunkwhc_blog=self.webpackChunkwhc_blog||[]).push([[450],{6029:function(n){n.exports=JSON.parse('{"blogPosts":[{"id":"/coding/\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891","metadata":{"permalink":"/coding/\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891.md","source":"@site/blog/coding/\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891.md","title":"\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891","description":"\u80cc\u666f","date":"2022-08-01T00:00:00.000Z","formattedDate":"August 1, 2022","tags":[],"readingTime":3.055,"hasTruncateMarker":false,"authors":[],"frontMatter":{"tags":[],"title":"\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891","date":"2022-08-01T00:00:00.000Z"},"nextItem":{"title":"RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e","permalink":"/coding/RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e"}},"content":"## \u80cc\u666f\\n\\n\u73b0\u573a\u7684\u5c55\u4f1a\uff0c\u9700\u8981\u540c\u6b65\u64ad\u653e\u591a\u4e2a\u89c6\u9891\u3002\\n\u8981\u6c42\u591a\u4e2a\u89c6\u9891\u7684\u64ad\u653e\u8fdb\u5ea6\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\u3002\\n\\n## \u89e3\u51b3\u65b9\u6848\\n\\n![](assets/16651541844276.jpg)\\n\\n- \u5efa\u8bae\u4f7f\u7528windows\u7b14\u8bb0\u672c\u4f5c\u4e3a\u4e3b\u8981pc\u63a7\u5236\u7aef\u3002\\n- \u9009\u62e9\u4e00\u6b3e\u53ef\u4ee5\u540c\u65f6\u64ad\u653e\u591a\u4e2a\u89c6\u9891\u7684\u64ad\u653e\u5668\uff0c\u4e0b\u9762\u4f1a\u7ed9\u51fa\u9009\u62e9\u3002\\n- \u62fc\u63a5\u591a\u4e2a\u663e\u793a\u5c4f\u5e55\uff08\u663e\u793a\u5668\u6216\u8005\u6295\u5f71\u4eea\uff09\u4e3a\u4e00\u4e2a**\u5c4f\u5e55\u5899**\uff0c\u5c4f\u5e55\u5899\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4f1a\u8bc6\u522b\u6210\u4e00\u4e2a\u663e\u793a\u5c4f\u3002\u4e00\u4e2a\u64ad\u653e\u5668\u53ea\u80fd\u5728\u4e00\u4e2a\u663e\u793a\u5c4f\u4e0a\u64ad\u653e\u3002\\n\\n## \u5c4f\u5e55\u62fc\u63a5\u63a5\u5165\\n\\n\u8fde\u63a5\u76f8\u5173\u5c4f\u5e55\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u6709\u7ebf\u4e0e\u65e0\u7ebf\u3002\\n\\n- \u6709\u7ebf\uff1a\u4f18\u70b9\u662f\u7a33\u5b9a\u7684\u6570\u636e\u4f20\u8f93\uff0c\u7f3a\u70b9\u662f\u53d7\u62fc\u63a5\u5904\u7406\u5668\u548cHDMI\u7ebf\u7684\u9650\u5236\uff0c\u80fd\u591f\u8fde\u63a5\u7684\u5c4f\u5e55\u6570\u91cf\u4ee5\u53ca\u8fde\u63a5\u8ddd\u79bb\u90fd\u4f1a\u6bd4\u8f83\u53d7\u9650\u3002\\n- \u65e0\u7ebf\uff1a\u4f18\u5148\u662f\u89e3\u51b3\u4e86\u65e0\u7ebf\u7684\u7f3a\u70b9\uff0c\u7f3a\u70b9\u5c31\u662f\u4fe1\u53f7\u4e0d\u591f\u7a33\u5b9a\uff0c\u6709\u65f6\u5019\u89c6\u9891\u4f1a\u4e2d\u65ad\u91cd\u8fde\u3002\\n\\n\u4e24\u79cd\u65b9\u5f0f\u90fd\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5c4f\u5e55\u4e3a\u4e00\u4e2a\u5c4f\u5e55\u5899\uff0c\u5728pc\u7684\u663e\u793a\u914d\u7f6e\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u63a5\u5165\u4e00\u4e2a\u5206\u8fa8\u7387\u975e\u5e38\u5927\u7684\u663e\u793a\u5c4f\u3002\\n\\n### \u6709\u7ebf\\n\\n\u8d2d\u4e70[\u591a\u5c4f\u62fc\u63a5\u5904\u7406\u5668](https://item.taobao.com/item.htm?spm=a230r.1.14.30.5946495fZvpf9C&id=624964635290&ns=1&abbucket=17#detail)\uff0c\u4f7f\u7528hdmi\u7ebf\u7ec4\u6210\u4e00\u4e2a\u663e\u793a\u5668\u3002(429\u5143)\\n![image.png](assets/16651541844289.png)\\n\\n- \u5177\u4f53\u7684\u914d\u7f6e\u53ef\u4e0e\u5ba2\u670d\u6c9f\u901a\u3002\\n\\n### \u65e0\u7ebf\\n\\n\u4f7f\u7528[spacedesk](https://www.spacedesk.net/)\u5bf9\u540c\u4e00\u4e2aWIFI\u4e0b\u7684\u5b89\u5353/IOS/PC\uff0c\u8bbe\u7f6e\u8fdb\u884c\u6295\u5c04\uff0c\u7ec4\u6210\u4e00\u4e2a\u663e\u793a\u5668\u3002\\n\u5efa\u8bae\u8d2d\u7f6e\u4e00\u4e2a\u7a33\u5b9a\u7684\u8def\u7531\u5668\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u51fa\u73b0\u7f51\u7edc\u95ee\u9898\u3002\u63a8\u8350\u4e00\u4e2a\u6211\u5728\u7528\u7684\u4f01\u4e1a\u7ea7\u8def\u7531\u5668[\u7f51\u4ef6R8500](https://item.taobao.com/item.htm?spm=a230r.1.14.16.2d192b05jJfPC3&id=610406538704&ns=1&abbucket=17#detail)\u4ef7\u683c428\uff0c\u6d4b\u8bd5\u4e86\u4e00\u665a\u4e0a\uff0c\u6ca1\u6709\u51fa\u73b0\u65ad\u8fde\u95ee\u9898\u3002\\n![image.png](assets/16651541844310.png)\\n\\n## \u64ad\u653e\u5668\\n\\n\u9009\u62e9\u968f\u610f\u4e00\u4e2a\u53ef\u4ee5\u64ad\u653e\u591a\u4e2a\u89c6\u9891\u7684\u64ad\u653e\u5668\u5373\u53ef\uff0c\u4e0b\u9762\u662f\u4e24\u4e2a\u6d4b\u8bd5\u8fc7\u7684\u3002\\n\\n### hammultiplayer\\n\\n[\u5b98\u7f51](http://hammultiplayer.org/)\\n\u66f4\u4e3a\u4e13\u4e1a\u7684\u8f6f\u4ef6\uff0cPC\u7aef\u53ef\u4ee5\u4f5c\u4e3a\u7edf\u4e00\u76d1\u63a7\u754c\u9762\u3002 \u5b66\u4e60\u6210\u672c\u9ad8\u3002\\n![image.png](assets/16651541844339.png)\\n![image.png](assets/16651541844417.png)\\n\\n### gridplayer\\n\\n\u8fd9\u662f\u4e00\u4e2a\u66f4\u4e3a\u7b80\u5355\u63a7\u5236\u7684\u64ad\u653e\u5668\u3002\\n[\u5f00\u6e90\u9879\u76ee\u5730\u5740](https://github.com/vzhd1701/gridplayer) [\u4e0b\u8f7d\u94fe\u63a5](https://objects.githubusercontent.com/github-production-release-asset-2e65be/416713458/140079b9-0d48-482b-b8e9-2ecfac4b1b7f?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220823%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220823T151909Z&X-Amz-Expires=300&X-Amz-Signature=85fd3434c45dbff1c3877aa324d09843cc305f601b2a80152e2d7e9278097309&X-Amz-SignedHeaders=host&actor_id=3345406&key_id=0&repo_id=416713458&response-content-disposition=attachment%3B%20filename%3DGridPlayer-0.4.3-win64-portable.zip&response-content-type=application%2Foctet-stream)\\n\\n1. \u6253\u5f00\u4e0b\u8f7d\u597d\u7684\u64ad\u653e\u5668\u6587\u4ef6\u3002\\n\\n![image.png](assets/16651541844516.png)\\n\\n2. \u5728\u64ad\u653e\u5668\u4e0a\u70b9\u51fb\u53f3\u952e\uff0c\u9009\u62e9\u89c6\u9891\u7684\u6392\u5217\u65b9\u5f0f\u3002\\n\\n![image.png](assets/16651541844602.png)\\n\\n- \u8bf7\u6ce8\u610f\u914d\u7f6e\u53c2\u6570 size \uff0c\u9009\u62e9\u4e00\u884c\u6700\u591a\u53ef\u663e\u793a\u7684\u89c6\u9891\u4e2a\u6570\u3002\\n\\n3. \u62d6\u52a8\u8981\u540c\u65f6\u64ad\u653e\u7684\u6587\u4ef6\u5230\u7a97\u53e3\u5185\u3002\\n\\n![image.png](assets/16651541844698.png)\\n\\n4. \u53f3\u952e\uff1aall \u64cd\u4f5c\uff0c\u7edf\u4e00\u64cd\u4f5c\u89c6\u9891\u3002\\n\\n![image.png](assets/16651541844831.png)\\n\\n- play/pause: \u7edf\u4e00\u63a7\u5236 \u64ad\u653e/\u6682\u505c\u3002\\n- jump: \u7edf\u4e00\u8df3\u8f6c\u5230\u5bf9\u5e94\u64ad\u653e\u8fdb\u5ea6\u3002"},{"id":"/coding/RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e","metadata":{"permalink":"/coding/RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e.md","source":"@site/blog/coding/RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e.md","title":"RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e","description":"RSSHub\u662f\u4e00\u4e2a\u914d\u7f6erss\u670d\u52a1\u7684\u5f00\u6e90\u9879\u76ee\u3002","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":0.66,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e","tags":[],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891","permalink":"/coding/\u591a\u5c4f\u540c\u6b65\u64ad\u653e\u89c6\u9891"},"nextItem":{"title":"centos \u5b89\u88c5 nvidia-docker","permalink":"/coding/centos \u5b89\u88c5 nvidia-docker"}},"content":"[RSSHub](https://docs.rsshub.app/new-assets.html#wei-xin)\u662f\u4e00\u4e2a\u914d\u7f6erss\u670d\u52a1\u7684\u5f00\u6e90\u9879\u76ee\u3002\\n\u76ee\u524d\u6709\u597d\u51e0\u4e2a\u9879\u76ee\u4f1a\u6709\u6293\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6587\u7ae0\u7684\u529f\u80fd\u3002\\n![image.png](assets/16651545860830.png)\\n\\n\u6211\u4eec\u6d4b\u8bd5\u4e00\u4e0b\u4f7f\u7528CareerEngine\u7684\u6765\u6e90\u6765\u67e5\u770b**\u5238\u5546\u4e2d\u56fd**\u7684\u6587\u7ae0\uff0c\u5bf9\u5e94\u7684URL\u4e3a\uff1a\\n[https://rsshub.app/wechat/ce/5a803af47718ea2ca9276f9a](https://rsshub.app/wechat/ce/5a803af47718ea2ca9276f9a)\\n\\n\u53ea\u8981\u8ba2\u9605\u4e0a\u65b9\u7684url\u5c31\u53ef\u4ee5\u770b\u5230\u76f8\u5173\u516c\u4f17\u53f7\u8fd1\u671f\u7684\u6587\u7ae0\u3002\\n\\n![image.png](assets/16651545860852.png)\\n\\nrss\u4f5c\u4e3a\u4e00\u4e2a\u516c\u5171\u534f\u8bae\uff0crsshub\u4f5c\u4e3a\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\u90fd\u662f\u53ef\u4ee5\u505a\u4e00\u5b9a\u7684\u4e8c\u6b21\u5f00\u53d1\u3002 \u7528\u6765\u505a\u6570\u636e\u7684\u6536\u96c6\uff0c\u4e5f\u662f\u53ef\u4ee5\u7684\u3002"},{"id":"/coding/centos \u5b89\u88c5 nvidia-docker","metadata":{"permalink":"/coding/centos \u5b89\u88c5 nvidia-docker","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/centos \u5b89\u88c5 nvidia-docker.md","source":"@site/blog/coding/centos \u5b89\u88c5 nvidia-docker.md","title":"centos \u5b89\u88c5 nvidia-docker","description":"centos \u5b89\u88c5 nvidia-docker \u5e76\u6d4b\u8bd5 tensorflow \u548c pytorch","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":2.46,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"centos \u5b89\u88c5 nvidia-docker","tags":[],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e","permalink":"/coding/RSS\u83b7\u53d6\u5fae\u4fe1\u516c\u4f17\u53f7\u6570\u636e"},"nextItem":{"title":"docker\u955c\u50cf\u592a\u5927\u89e3\u51b3","permalink":"/coding/docker\u955c\u50cf\u592a\u5927 \u5bfc\u81f4\u65e0\u6cd5\u5bfc\u5165"}},"content":"centos \u5b89\u88c5 nvidia-docker \u5e76\u6d4b\u8bd5 tensorflow \u548c pytorch\\n\\n## docker\u73af\u5883\\n\\n\u5982\u679c\u7cfb\u7edf\u6ca1\u6709\u73af\u5883\uff0c\u5c31\u5b89\u88c5\u73af\u5883\u3002\u5df2\u7ecf\u6709\u4e86\u73af\u5883\uff0c\u6700\u597d\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u3002\\n\\n- \u53c2\u8003: [https://docs.docker.com/install/linux/docker-ce/centos/](https://docs.docker.com/install/linux/docker-ce/centos/)\\n\\n### \u5b89\u88c5docker\\n\\n- \u5b89\u88c5yum\u5de5\u5177\\n\\n```shell\\n$ sudo yum install -y yum-utils \\\\\\n  device-mapper-persistent-data \\\\\\n  lvm2\\n```\\n\\n- \u589e\u52a0docker\u4ed3\u5e93\u5230yum\u4e2d\\n\\n```shell\\n$ sudo yum-config-manager \\\\\\n    --add-repo \\\\\\n    https://download.docker.com/linux/centos/docker-ce.repo\\n```\\n\\n- \u5b89\u88c5docker\\n\\n```shell\\n$ sudo yum install docker-ce docker-ce-cli containerd.io\\n```\\n\\n- \u542f\u52a8docker\\n\\n```shell\\n$ sudo systemctl start docker\\n```\\n\\n- \u914d\u7f6e\u81ea\u542f\u52a8\\n\\n```shell\\n$ sudo systemctl enable docker\\n```\\n\\n- \u6d4b\u8bd5\u5b89\u88c5\u60c5\u51b5\\n\\n```shell\\n$ docker --version\\n```\\n\\n### \u5347\u7ea7docker\u7248\u672c\\n\\n```shell\\n$ sudo yum upgrade docker-ce docker-ce-cli containerd.io\\n```\\n\\n**\u5347\u7ea7docker\u7248\u672c\u7684\u65f6\u5019\u8bf7\u6ce8\u610f\uff0c\u4f1a\u5bfc\u81f4\u5df2\u7ecf\u521b\u5efa\u7684\u5bb9\u5668\u65e0\u6cd5\u542f\u7528\uff0c\u9700\u8981\u91cd\u65b0\u521b\u5efa\u5bb9\u5668\u3002**\\n\\n## \u5b89\u88c5 nvida-docker\\n\\n- \u53c2\u8003\uff1a[https://github.com/NVIDIA/nvidia-docker](https://github.com/NVIDIA/nvidia-docker)\\n\\n```shell\\n$ distribution=$(. /etc/os-release;echo $ID$VERSION_ID)\\n$ curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.repo | sudo tee /etc/yum.repos.d/nvidia-docker.repo\\n\\n$ sudo yum install -y nvidia-container-toolkit\\n$ sudo systemctl restart docker\\n```\\n\\n- \u6d4b\u8bd5\\n\\n```shell\\n$ docker run --rm --gpus all nvidia/cuda:9.0-base nvidia-smi\\n```\\n\\n\u5982\u679c\u6253\u5370\u51fa\u4e0b\u65b9\u7c7b\u4f3c\u7684\u56fe\u7247\uff0c\u4e5f\u5c31\u662f\u76ee\u524d\u7684\u5bbf\u4e3b\u673a\u7684GPU\uff0c\u5c31\u8bf4\u660e\u5b89\u88c5\u6b63\u5e38\u3002\\n\\n![](assets/16651546067191.jpg)\\n\\n### \u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\\n\\n#### \u5b89\u88c5 nvidia-container-toolkit \u7684\u65f6\u5019\u62a5\u9519 [Errno -1] repomd.xml signature could not be verified for libnvidia-container\\n\\n![](assets/16651546067201.jpg)\\n\\n\u4fee\u6539 /etc/yum.repos.d/nvidia-docker.repo \u6587\u4ef6 **repo_gpgcheck** \u8bbe\u7f6e\u4e3a**0**.\\n\\n## tensorflow\u6d4b\u8bd5\\n\\n- \u521b\u5efa\u4e00\u4e0b\u4e34\u65f6\u7684docker\u5bb9\u5668\uff0c\u5e76\u8fdb\u5165\u5bb9\u5668\u7684\u8fd0\u884c\u73af\u5883\u3002\\n\\n```shell\\n@ docker run --rm -it --gpus all  tensorflow/tensorflow:1.15.0-gpu-py3 bash\\n```\\n\\n![](assets/16651546067211.jpg)\\n\\n\u8fd0\u884cpython\u8fdb\u5165\u73af\u5883\uff0c\u5e76\u6267\u884c\u4e0b\u9762\u6765\u81ea\u5b98\u7f51\u7684\u4ee3\u7801\u4f8b\u5b50\u3002\\n\\n```python\\nimport tensorflow as tf\\nmnist = tf.keras.datasets.mnist\\n\\n(x_train, y_train),(x_test, y_test) = mnist.load_data()\\nx_train, x_test = x_train / 255.0, x_test / 255.0\\n\\nmodel = tf.keras.models.Sequential([\\n  tf.keras.layers.Flatten(input_shape=(28, 28)),\\n  tf.keras.layers.Dense(128, activation=\'relu\'),\\n  tf.keras.layers.Dropout(0.2),\\n  tf.keras.layers.Dense(10, activation=\'softmax\')\\n])\\n\\nmodel.compile(optimizer=\'adam\',\\n              loss=\'sparse_categorical_crossentropy\',\\n              metrics=[\'accuracy\'])\\n\\nmodel.fit(x_train, y_train, epochs=5)\\nmodel.evaluate(x_test, y_test)\\n```\\n\\n\u8bd5\u8bd5\u770b\u80fd\u4ee3\u7801\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\u4e0b\u53bb\u3002\\n\\n## pytorch\u6d4b\u8bd5\\n\\n- \u521b\u5efa\u4e00\u4e0b\u4e34\u65f6\u7684docker\u5bb9\u5668\uff0c\u5e76\u8fdb\u5165\u5bb9\u5668\u7684\u8fd0\u884c\u73af\u5883\u3002\\n\\n```shell\\n@ docker run --rm -it --gpus all  pytorch/pytorch:1.3-cuda10.1-cudnn7-runtime bash\\n```\\n\\n\u8fd0\u884cpython\u8fdb\u5165\u73af\u5883\uff0c\u5e76\u6267\u884c\u4e0b\u9762\u6765\u81ea\u5b98\u7f51\u7684\u4ee3\u7801\u4f8b\u5b50\u3002\\n\\n```python\\nfrom __future__ import print_function\\nimport torch\\nx = torch.rand(5, 3)\\nprint(x)\\n```\\n\\n\u8bd5\u8bd5\u770b\u80fd\u4ee3\u7801\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\u4e0b\u53bb\u3002"},{"id":"/coding/docker\u955c\u50cf\u592a\u5927 \u5bfc\u81f4\u65e0\u6cd5\u5bfc\u5165","metadata":{"permalink":"/coding/docker\u955c\u50cf\u592a\u5927 \u5bfc\u81f4\u65e0\u6cd5\u5bfc\u5165","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/docker\u955c\u50cf\u592a\u5927 \u5bfc\u81f4\u65e0\u6cd5\u5bfc\u5165.md","source":"@site/blog/coding/docker\u955c\u50cf\u592a\u5927 \u5bfc\u81f4\u65e0\u6cd5\u5bfc\u5165.md","title":"docker\u955c\u50cf\u592a\u5927\u89e3\u51b3","description":"\u7248\u672c docker 19.0.3","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[{"label":"docker","permalink":"/tags/docker"}],"readingTime":0.135,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"docker\u955c\u50cf\u592a\u5927\u89e3\u51b3","tags":["docker"],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"centos \u5b89\u88c5 nvidia-docker","permalink":"/coding/centos \u5b89\u88c5 nvidia-docker"},"nextItem":{"title":"ffmpeg \u683c\u5f0f\u89e3\u6790","permalink":"/coding/ffmpeg \u683c\u5f0f\u89e3\u6790"}},"content":"\u7248\u672c docker 19.0.3\\n\\n\u589e\u52a0\u4e0b\u5217\u9009\u9879\\n\\n```json\\n{\\n  \\n  \\"storage-driver\\": \\"devicemapper\\",\\n  \\"storage-opts\\": [\\"dm.basesize=50G\\"]\\n}\\n```\\n\\n```json\\n{\\n  \\"storage-driver\\": \\"overlay2\\",\\n  \\"storage-opts\\": [\\"overlay2.size=50G\\"]\\n}\\n```\\n\\n![image.png](assets/16651545719363.png)"},{"id":"/coding/ffmpeg \u683c\u5f0f\u89e3\u6790","metadata":{"permalink":"/coding/ffmpeg \u683c\u5f0f\u89e3\u6790","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/ffmpeg \u683c\u5f0f\u89e3\u6790.md","source":"@site/blog/coding/ffmpeg \u683c\u5f0f\u89e3\u6790.md","title":"ffmpeg \u683c\u5f0f\u89e3\u6790","description":"\u5728\u4f7f\u7528tts\u751f\u6210\u97f3\u9891\u7684\u65f6\u5019\uff0c\u5ba2\u6237\u9700\u8981\u4f7f\u7528 64kbps\u76848k\u97f3\u9891\u3002","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":0.745,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"ffmpeg \u683c\u5f0f\u89e3\u6790","tags":[],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"docker\u955c\u50cf\u592a\u5927\u89e3\u51b3","permalink":"/coding/docker\u955c\u50cf\u592a\u5927 \u5bfc\u81f4\u65e0\u6cd5\u5bfc\u5165"},"nextItem":{"title":"python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848","permalink":"/coding/python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848"}},"content":"\u5728\u4f7f\u7528tts\u751f\u6210\u97f3\u9891\u7684\u65f6\u5019\uff0c\u5ba2\u6237\u9700\u8981\u4f7f\u7528 64kbps\u76848k\u97f3\u9891\u3002\\n\u672c\u6765\u6211\u4ee5\u4e3a\u53ea\u8981\u4f7f\u7528 -ab \u6765\u6307\u5b9a\u5c31\u597d\u4e86\\n![image.png](assets/16651545777506.png)\\n\u53d1\u73b0\u97f3\u9891\u600e\u4e48\u4e5f\u6539\u4e0d\u8fc7\u53bb\uff0c \u7136\u540e\u610f\u8bc6\u5230\u8fd9\u4e2a\u662f \u89c6\u9891\u7684\u53c2\u6570\u3002\\n\\n\u5728\u7ecf\u8fc7\u4e00\u5b9a\u7684\u641c\u7d22\u4ee5\u540e\u53d1\u73b0\uff0c\u4e0d\u540c\u7684\u6bd4\u7279\u7387\u5bf9\u5e94\u7684\u662f\u4e0d\u540c\u7684codecs\u3002\\n\\n|  | codec | format |\\n| --- | --- | --- |\\n| 128kbps | pcm_s16le | lcpm |\\n| 64kbps | pcm_alaw | alaw |\\n\\npcm_s16le \u548c pcm_alaw \u5230\u5e95\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f\\n\\n![image.png](assets/16651545777514.png)\\n![image.png](assets/16651545777523.png)\\n\u7b80\u5355\u7684\u7406\u89e3\uff0c\u5e94\u8be5\u662f\u4f7f\u7528\u5728\u4e0d\u901a\u573a\u666f\u7684\u7f16\u7801\u683c\u5f0f\u3002"},{"id":"/coding/python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848","metadata":{"permalink":"/coding/python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848.md","source":"@site/blog/coding/python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848.md","title":"python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848","description":"PYC\u7f16\u7801","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[{"label":"python","permalink":"/tags/python"}],"readingTime":2.025,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848","tags":["python"],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"ffmpeg \u683c\u5f0f\u89e3\u6790","permalink":"/coding/ffmpeg \u683c\u5f0f\u89e3\u6790"},"nextItem":{"title":"restful\u63a5\u53e3\u89c4\u8303","permalink":"/coding/restful\u63a5\u53e3\u89c4\u8303"}},"content":"## PYC\u7f16\u7801\\n\\n\u4f7f\u7528python\u81ea\u5e26\u7684\u7f16\u8bd1\u547d\u4ee4\uff0c\u7f16\u8bd1\u6210\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\uff0c\u8fd8\u662f\u53ef\u4ee5\u88ab\u53cd\u7f16\u8bd1\uff0c\u4f46\u662f\u81f3\u5c11\u65e0\u6cd5\u88ab\u76f4\u63a5\u67e5\u770b\u3002\\n\\npyc\u9664\u4e86\u770b\u4e0d\u5230\u6e90\u4ee3\u7801\uff0c\u5176\u4ed6\u4f7f\u7528\u4e0a\u548cpy\u6587\u4ef6\uff0c\u6ca1\u6709\u592a\u5927\u5dee\u5f02\u3002\\n\\n#### \u5728settools\u6253\u5305egg\\n\\n```\\n# \u6253\u5305\\npython ./setup/all.py bdist_egg --exclude-source-files\\n\\n# \u8fd0\u884c\\negg_path=\'/home/shahid/suds_2.4.egg\' \\nsys.path.append(egg_path) \\nimport suds\\n\\nsuds.run()\\n```\\n\\n#### \u666e\u901a\u60c5\u51b5\u4e0b\u7684\u7f16\u8bd1\\n\\n\u8fd9\u79cd\u65b9\u5f0f\u6bd4\u8f83\u9ebb\u70e6\uff0c\u56e0\u4e3apyc\u4f5c\u4e3a\u4e34\u65f6\u6587\u4ef6\uff0c\u662f\u4e0d\u63a8\u8350\u76f4\u63a5\u5220\u9664python\u6587\u4ef6\u3002\u9700\u8981\u81ea\u5df1\u7f16\u5199\u811a\u672c\u5b8c\u6210\u4e0b\u9762\u90e8\u7f72\uff1a\\n\\n1. py_compile \u5f3a\u5236\u7f16\u8bd1\u751f\u6210pyc.\\n2. \u5220\u9664py\u6587\u4ef6\u3002\\n\\n```python\\npython -m compileall .\\n\\nfind . -name \\"__pycache__\\" -exec rm -f {} \\\\; \\nfind . -name \\"*.py\\" -exec rm -rf {} \\\\;\\n```\\n\\n## CPYTHON\\n\\n\u4f7f\u7528cpython\u5c06python\u4ee3\u7801\u7f16\u8bd1\u6210C/C++\uff0c\u7136\u540e\u518d\u7f16\u8bd1\u6210python\u6269\u5c55\u6a21\u5757\uff0cwindows\u4e0a\u4e3apyd\u6587\u4ef6,Linux\u4e0a\u4e3aso\u6587\u4ef6.\\n\\n## \u6253\u5305\u6210\u53ef\u6267\u884c\u6587\u4ef6\\n\\n\u53d1\u73b0pyinstaller\u8fd9\u4e2a\u6253\u5305\u5de5\u5177\u6bd4\u8f83\u53d7\u4eba\u6b22\u8fce\uff0c\u7ecf\u5b83\u6253\u5305\u540e\u7684exe\u6587\u4ef6\u53ef\u4ee5\u5728\u65e0python\u7684\u73af\u5883\u4e0b\u8fd0\u884c\u3002\\n\\n\u5982\u679c\u9879\u76ee\u662f\u53ea\u662f\u670d\u52a1\u4e2d\u7684\u4f9d\u8d56\u5305\u4f8b\u5982egg\u5c31\u65e0\u6cd5\u5b9e\u73b0\u4e86\u3002\\n\\n## \u4ee3\u7801\u6df7\u6dc6\\n\\n\u547d\u4ee4: pyminifier\\n\\n\u5728\u7ebf:[http://pyob.oxyry.com/](http://pyob.oxyry.com/)\\n\\n\u4ee3\u7801\u6df7\u6dc6\u65b9\u6848\u7684\u7f3a\u9677\u5728\u4e8e\uff0c\u53ea\u80fd\u9488\u5bf9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u6df7\u6dc6\uff0c\u8fd9\u6837\u4f5c\u4e3a\u4e00\u4e2a\u9879\u76ee\u4e92\u76f8\u8c03\u7528\u80af\u5b9a\u6709\u95ee\u9898\u3002\uff08\u7c7b\u540d\u548c\u65b9\u6cd5\u540d\u4f1a\u53d8\u5316\uff09\\n\\n\u9700\u8981\u9488\u5bf9\u9700\u8981\u6df7\u6dc6\u7684\u6587\u4ef6\uff0c\u8fdb\u884c\u6a21\u5757\u5316\u8bbe\u8ba1\u3002\\n\\n## \u865a\u62df\u673a\u5c01\u88c5\\n\\n\u5728\u865a\u62df\u673a\u5b89\u8f6c\u597d\u4ee5\u540e\uff0c\u4fee\u6539\u767b\u5f55\u5bc6\u7801\uff0c\u5e76\u4e14\u4e0d\u544a\u77e5\u5ba2\u6237\u3002\u6240\u6709\u5bf9\u865a\u62df\u673a\u7684\u64cd\u4f5c\u901a\u8fc7\u5f00\u53d1\u670d\u52a1\u8fdb\u884c\u8c03\u7528\u3002"},{"id":"/coding/restful\u63a5\u53e3\u89c4\u8303","metadata":{"permalink":"/coding/restful\u63a5\u53e3\u89c4\u8303","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/restful\u63a5\u53e3\u89c4\u8303.md","source":"@site/blog/coding/restful\u63a5\u53e3\u89c4\u8303.md","title":"restful\u63a5\u53e3\u89c4\u8303","description":"REST \u7b80\u4ecb","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":6.91,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"restful\u63a5\u53e3\u89c4\u8303","tags":[],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848","permalink":"/coding/python\u7684\u6e90\u4ee3\u7801\u4fdd\u62a4\u65b9\u6848"},"nextItem":{"title":"xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165","permalink":"/coding/xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165"}},"content":"## REST \u7b80\u4ecb\\n\\n\u5728 2000 \u5e74\uff0cRoy Fielding \u63d0\u8bae\u4f7f\u7528\u8868\u8ff0\u6027\u72b6\u6001\u8f6c\u79fb (REST) \u4f5c\u4e3a\u8bbe\u8ba1 Web \u670d\u52a1\u7684\u4f53\u7cfb\u6027\u65b9\u6cd5\u3002 REST \u662f\u4e00\u79cd\u57fa\u4e8e\u8d85\u5a92\u4f53\u6784\u5efa\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u67b6\u6784\u98ce\u683c\u3002 REST \u72ec\u7acb\u4e8e\u4efb\u4f55\u57fa\u7840\u534f\u8bae\uff0c\u5e76\u4e14\u4e0d\u4e00\u5b9a\u7ed1\u5b9a\u5230 HTTP\u3002 \u4f46\u662f\uff0c\u6700\u5e38\u89c1\u7684 REST \u5b9e\u73b0\u4f7f\u7528 HTTP \u4f5c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u534f\u8bae\uff0c\u672c\u6307\u5357\u91cd\u70b9\u4ecb\u7ecd\u5982\u4f55\u8bbe\u8ba1\u9002\u7528\u4e8e HTTP \u7684 REST API\u3002\\n\\n\u57fa\u4e8e HTTP \u7684 REST \u7684\u4e3b\u8981\u4f18\u52bf\u5728\u4e8e\u5b83\u4f7f\u7528\u5f00\u653e\u6807\u51c6\uff0c\u4e0d\u4f1a\u7ed1\u5b9a API \u7684\u5b9e\u73b0\uff0c\u4e5f\u4e0d\u4f1a\u5c06\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u7ed1\u5b9a\u5230\u4efb\u4f55\u5177\u4f53\u5b9e\u73b0\u3002 \u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528 ASP.NET \u7f16\u5199 REST Web \u670d\u52a1\uff0c\u800c\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u4f7f\u7528\u4efb\u4f55\u8bed\u8a00\u6216\u5de5\u5177\u6765\u53d1\u8d77 HTTP \u8bf7\u6c42\u548c\u5206\u6790 HTTP \u54cd\u5e94\u3002\\n\\n## \u539f\u5219\\n\\n\u4e0b\u9762\u662f\u4f7f\u7528 HTTP \u8bbe\u8ba1 RESTful API \u65f6\u7684\u4e00\u4e9b\u4e3b\u8981\u539f\u5219\uff1a\\n\\n- URL\u4e2d\u4e0d\u80fd\u6709\u52a8\u8bcd\\n- URL\u7ed3\u5c3e\u4e0d\u5e94\u8be5\u5305\u542b\u659c\u6760\u201c/\u201d\\n- URL\u8def\u5f84\u4e2d\u9996\u9009\u5c0f\u5199\u5b57\u6bcd\\n- URL\u8def\u5f84\u540d\u8bcd\u5747\u4e3a\u590d\u6570\\n\\n## \u8bf7\u6c42\\n\\n\u6240\u6709\u540e\u53f0\u7684\u670d\u52a1\u7684\u8bf7\u6c42\u9700\u8981\u52a0\u4e0a api \u7684\u524d\u7f00\uff0c\u6765\u8868\u793a\u63a5\u53e3\u3002\\n\\n```\\napi.xxx.com/api/\\n```\\n\\n### \u7248\u672c\\n\\nAPI \u7684\u7248\u672c\u53f7\u548c\u5ba2\u6237\u7aef APP \u7684\u7248\u672c\u53f7\u662f\u6beb\u65e0\u5173\u7cfb\u7684\uff0c\u4e0d\u8981\u8ba9 APP \u5c06\u5b83\u4eec\u7528\u4e8e\u63d0\u4ea4\u5e94\u7528\u5e02\u573a\u7684\u7248\u672c\u53f7\u4f20\u9012\u5230\u670d\u52a1\u5668\uff0c\u800c\u662f\u63d0\u4f9b\u7c7b\u4f3c\u4e8ev1\u3001v2\u4e4b\u7c7b\u7684 API \u7248\u672c\u53f7\u3002\u7248\u672c\u53f7\u53ea\u5141\u8bb8\u679a\u4e3e\uff0c\u4e0d\u5141\u8bb8\u5224\u65ad\u533a\u95f4\u3002\\n\\n\u7248\u672c\u53f7\u62fc\u63a5\u5728 URL \u4e2d\u6216\u662f\u653e\u5728 Header \u4e2d\u90fd\u53ef\u4ee5\u3002\u4f8b\u5982\uff1a\\n\\n```\\napi.xxx.com/api/v1/users\\n```\\n\\n### \u65b9\u6cd5\\n\\nHTTP \u534f\u8bae\u5b9a\u4e49\u4e86\u5927\u91cf\u4e3a\u8bf7\u6c42\u8d4b\u4e8e\u8bed\u4e49\u7684\u65b9\u6cd5\u3002 \u5927\u591a\u6570 RESTful Web API \u4f7f\u7528\u7684\u5e38\u89c1 HTTP \u65b9\u6cd5\u662f\uff1a\\n\\n- GET \u68c0\u7d22\u4f4d\u4e8e\u6307\u5b9a URI \u5904\u7684\u8d44\u6e90\u7684\u8868\u793a\u5f62\u5f0f\u3002 \u54cd\u5e94\u6d88\u606f\u7684\u6b63\u6587\u5305\u542b\u6240\u8bf7\u6c42\u8d44\u6e90\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n- POST \u5728\u6307\u5b9a\u7684 URI \u5904\u521b\u5efa\u65b0\u8d44\u6e90\u3002 \u8bf7\u6c42\u6d88\u606f\u7684\u6b63\u6587\u5c06\u63d0\u4f9b\u65b0\u8d44\u6e90\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 \u8bf7\u6ce8\u610f\uff0cPOST \u8fd8\u7528\u4e8e\u89e6\u53d1\u4e0d\u5b9e\u9645\u521b\u5efa\u8d44\u6e90\u7684\u64cd\u4f5c\u3002\\n- PUT \u5728\u6307\u5b9a\u7684 URI \u5904\u521b\u5efa\u6216\u66ff\u6362\u8d44\u6e90\u3002 \u8bf7\u6c42\u6d88\u606f\u7684\u6b63\u6587\u6307\u5b9a\u8981\u521b\u5efa\u6216\u66f4\u65b0\u7684\u8d44\u6e90\u3002\\n- PATCH \u5bf9\u8d44\u6e90\u6267\u884c\u90e8\u5206\u66f4\u65b0\u3002 \u8bf7\u6c42\u6b63\u6587\u5305\u542b\u8981\u5e94\u7528\u5230\u8d44\u6e90\u7684\u4e00\u7ec4\u66f4\u6539\u3002\\n- DELETE \u5220\u9664\u4f4d\u4e8e\u6307\u5b9a URI \u5904\u7684\u8d44\u6e90\u3002\\n\\n### path\u8bbe\u8ba1\\n\\n\u4e00\u822c\u6765\u8bf4 API \u7684\u5916\u5728\u5f62\u5f0f\u65e0\u975e\u5c31\u662f\u589e\u5220\u6539\u67e5\uff08\u5f53\u7136\u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\u80af\u5b9a\u8981\u590d\u6742\u5f97\u591a\uff09\uff0c\u800c\u67e5\u8be2\u53c8\u5206\u4e3a\u8be6\u60c5\u548c\u5217\u8868\u4e24\u79cd\uff0c\u5728 RESTful \u4e2d\u8fd9\u5c31\u76f8\u5f53\u4e8e\u901a\u7528\u7684\u6a21\u677f\u3002\u4f8b\u5982\u9488\u5bf9\u6587\u7ae0\uff08Article\uff09\u8bbe\u8ba1 API\uff0c\u90a3\u4e48\u6700\u57fa\u7840\u7684 URL \u5c31\u662f\u8fd9\u51e0\u79cd\uff1a\\n\\n- GET /articles\uff1a \u6587\u7ae0\u5217\u8868\\n- GET /articles/id\uff1a\u6587\u7ae0\u8be6\u60c5\\n- POST /articles/\uff1a \u521b\u5efa\u6587\u7ae0\\n- PUT /articles/id\uff1a\u4fee\u6539\u6587\u7ae0\\n- DELETE /articles/id\uff1a\u5220\u9664\u6587\u7ae0\\n\\nRESTful \u4e2d\u4f7f\u7528 GET\u3001POST\u3001PUT \u548c DELETE \u6765\u8868\u793a\u8d44\u6e90\u7684\u67e5\u8be2\u3001\u521b\u5efa\u3001\u66f4\u6539\u3001\u5220\u9664\uff0c\u5e76\u4e14\u9664\u4e86 POST \u5176\u4ed6\u4e09\u79cd\u8bf7\u6c42\u90fd\u5177\u5907\u5e42\u7b49\u6027\uff08\u591a\u6b21\u8bf7\u6c42\u7684\u6548\u679c\u76f8\u540c\uff09\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f POST \u548c PUT \u6700\u5927\u7684\u533a\u522b\u5c31\u662f\u5e42\u7b49\u6027\uff0c\u6240\u4ee5 PUT \u4e5f\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u64cd\u4f5c\uff0c\u53ea\u8981\u5728\u521b\u5efa\u524d\u5c31\u53ef\u4ee5\u786e\u5b9a\u8d44\u6e90\u7684 id\u3002\\n\\n\u5c06 id \u653e\u5728 URL \u4e2d\u800c\u4e0d\u662f Query Param \u7684\u5176\u4e2d\u4e00\u4e2a\u597d\u5904\u662f\u53ef\u4ee5\u8868\u793a\u8d44\u6e90\u4e4b\u95f4\u7684\u5c42\u7ea7\u5173\u7cfb\uff0c\u4f8b\u5982\u6587\u7ae0\u4e0b\u9762\u4f1a\u6709\u8bc4\u8bba\uff08Comment\uff09\u548c\u70b9\u8d5e\uff08Like\uff09\uff0c\u8fd9\u4e24\u9879\u8d44\u6e90\u5fc5\u7136\u4f1a\u5c5e\u4e8e\u4e00\u7bc7\u6587\u7ae0\uff0c\u6240\u4ee5\u5b83\u4eec\u7684 URL \u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff1a\\n\\n\u8bc4\u8bba\uff1a\\n\\n- GET /articles/aid/comments\uff1a \u67d0\u7bc7\u6587\u7ae0\u7684\u8bc4\u8bba\u5217\u8868\\n- GET /comments/cid\uff1a \u83b7\u53d6\\n- POST /articles/aid/comments\uff1a \u5728\u67d0\u7bc7\u6587\u7ae0\u4e2d\u521b\u5efa\u8bc4\u8bba\\n- PUT /comments/cid\uff1a \u4fee\u6539\u8bc4\u8bba\\n- DELETE /comments/cid\uff1a \u5220\u9664\u8bc4\u8bba\\n\\n\u8fd9\u91cc\u6709\u4e00\u70b9\u6bd4\u8f83\u7279\u6b8a\uff0c\u6c38\u8fdc\u53bb\u4f7f\u7528\u53ef\u4ee5\u6307\u5411\u8d44\u6e90\u7684\u7684\u6700\u77ed URL \u8def\u5f84\uff0c\u4e5f\u5c31\u662f\u8bf4\u65e2\u7136/comments/cid\u5df2\u7ecf\u53ef\u4ee5\u6307\u5411\u4e00\u6761\u8bc4\u8bba\u4e86\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u7528/articles/aid/comments/cid\u7279\u610f\u7684\u6307\u51fa\u6240\u5c5e\u6587\u7ae0\u4e86\u3002\\n\\n\u70b9\u8d5e\uff1a\\n\\n- GET /articles/id/like\uff1a\u67e5\u770b\u6587\u7ae0\u662f\u5426\u88ab\u70b9\u8d5e\\n- PUT /articles/id/like\uff1a\u70b9\u8d5e\u6587\u7ae0\\n- DELETE /articles/id/like\uff1a\u53d6\u6d88\u70b9\u8d5e\\n\\nRESTful \u4e2d\u4e0d\u5efa\u8bae\u51fa\u73b0\u52a8\u8bcd\uff0c\u6240\u4ee5\u53ef\u4ee5\u5c06\u8fd9\u79cd\u5173\u7cfb\u4f5c\u4e3a\u8d44\u6e90\u6765\u6620\u5c04\u3002\u5e76\u4e14\u7531\u4e8e\u5927\u90e8\u5206\u7684\u5173\u7cfb\u67e5\u8be2\u90fd\u4e0e\u5f53\u524d\u7684\u767b\u5f55\u7528\u6237\u6709\u5173\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u5173\u7cfb\u6240\u5c5e\u7684\u8d44\u6e90\u4e2d\u8fd4\u56de\u5173\u7cfb\u72b6\u6001\u3002\u4f8b\u5982\u70b9\u8d5e\u72b6\u6001\u5c31\u53ef\u4ee5\u76f4\u63a5\u5728\u83b7\u53d6\u6587\u7ae0\u8be6\u60c5\u65f6\u8fd4\u56de\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u9009\u62e9\u4e86 PUT \u800c\u4e0d\u662f POST\uff0c\u56e0\u4e3a\u6211\u89c9\u5f97\u70b9\u8d5e\u8fd9\u79cd\u884c\u4e3a\u5e94\u8be5\u662f\u5e42\u7b49\u7684\uff0c\u591a\u6b21\u64cd\u4f5c\u7684\u7ed3\u679c\u5e94\u8be5\u76f8\u540c\u3002\\n\\n#### \u8d44\u6e90\u5b57\u6bb5\u67e5\u8be2\\n\\n/api/v1/users/?gender=1\\n\u76f4\u63a5\u4f5c\u4e3agender\u6765\u4f20\u5165\\n\\n#### \u8d44\u6e90\u7edf\u8ba1\\n\\n\u8def\u5f84\uff1a/api/tableName/count\\n\u8fd4\u56de\uff1a\\n\\n```\\n{\\n    \\"code\\": 100,\\n    \\"msg\\": \\"\u6210\u529f\\",\\n    \\"data\\": {\\n        total:100\\n    }\\n}\\n```\\n\\n### \u53c2\u6570\u8bbe\u8ba1\\n\\n#### \u5206\u9875\u8bf7\u6c42\\n\\n/api/v1/users/?offset=10&limit=10\\noffset \u8868\u793a\u504f\u79fb\u91cf\uff0climit\u8fd4\u56de\u6570\u636e\u4e2a\u6570\\n\\n#### \u6392\u5e8f\\n\\n-\u8868\u793a\u964d\u5e8f\u6392\u5217\u7684\u65b9\u5f0f,\u4e0d\u52a0-\u8868\u793a\u5347\u5e8f\\n/api/v1/users/?sort=-create_date\\n\\n\u6839\u636e\u591a\u4e2a\u5b57\u6bb5\u6392\u5e8f\u4f7f\u7528\\n/api/v1/users/?sort=-create_date,update_date\\n\\n## \u54cd\u5e94\\n\\n### HTTP CODE\\n\\n\u5c3d\u91cf\u4f7f\u7528 HTTP \u72b6\u6001\u7801\uff0c\u5e38\u7528\u7684\u6709\uff1a\\n\\n200\uff1a\u8bf7\u6c42\u6210\u529f\\n201\uff1a\u521b\u5efa\u3001\u4fee\u6539\u6210\u529f\\n204\uff1a\u5220\u9664\u6210\u529f\\n400\uff1a\u53c2\u6570\u9519\u8bef\\n401\uff1a\u672a\u767b\u5f55\\n403\uff1a\u7981\u6b62\u8bbf\u95ee\\n404\uff1a\u672a\u627e\u5230\\n500\uff1a\u7cfb\u7edf\u9519\u8bef\\n\\n\u4f46\u662f\u6709\u4e9b\u65f6\u5019\u4ec5\u4ec5\u4f7f\u7528 HTTP \u72b6\u6001\u7801\u6ca1\u6709\u529e\u6cd5\u660e\u786e\u7684\u8868\u8fbe\u9519\u8bef\u4fe1\u606f\u3002\\n\\n### \u8fd4\u56de\u7ed3\u6784\\n\\ncode \u4ee3\u8868\u7cfb\u7edf\u5185\u5177\u4f53\u7684\u7f16\u7801\uff0cmsg \u4ee3\u8868\u5bf9\u5e94\u7684\u4fe1\u606f\u3002\\n\\n- \u6210\u529f\u65f6\uff1a\\n```\\n{\\n    \\"code\\": 100,\\n    \\"msg\\": \\"\u6210\u529f\\",\\n    \\"data\\": {}\\n}\\n```\\n\\n- \u5931\u8d25\u65f6\uff1a\\n```\\n  ```\\n  {\\n      \\"code\\": -1000,\\n      \\"msg\\": \\"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef\\"\\n  }\\n  ```\\n```\\n\\n\\n### \u5206\u9875\\n\\n```\\n{\\n    \\"code\\": 100,\\n    \\"msg\\": \\"\u6210\u529f\\",\\n    \\"total\\":100\\n    \\"message\\": []\\n}\\n```\\n\\n## \u53c2\u8003\\n\\n- [ \u5fae\u8f6fAPI\u8bbe\u8ba1](https://docs.microsoft.com/zh-cn/azure/architecture/best-practices/api-design)\\n- [\u6211\u6240\u8ba4\u4e3a\u7684RESTful API\u6700\u4f73\u5b9e\u8df5](https://www.scienjus.com/my-restful-api-best-practices/)\\n- [xmysql](https://github.com/o1lab/xmysql)"},{"id":"/coding/xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165","metadata":{"permalink":"/coding/xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165.md","source":"@site/blog/coding/xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165.md","title":"xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165","description":"\u80cc\u666f","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":2.14,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165","tags":[],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"restful\u63a5\u53e3\u89c4\u8303","permalink":"/coding/restful\u63a5\u53e3\u89c4\u8303"},"nextItem":{"title":"\u524d\u7aef3D\u6846\u67b6\u9009\u578b","permalink":"/coding/\u524d\u7aef3D\u6846\u67b6\u9009\u578b"}},"content":"## \u80cc\u666f\\n\\n\u6211\u4eec\u5728\u722c\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u6709\u4e9b\u8bf7\u6c42\u7684\u53c2\u6570\u662f\u4f7f\u7528\u5404\u79cd\u7279\u6b8a\u65b9\u5f0f\u62fc\u63a5\u51fa\u6765\u7684\u3002 \u8fd9\u6837\u5728\u6211\u4eec\u4e0d\u4e86\u89e3js\u4e2d\u7684\u903b\u8f91\u4e0b\uff0c\u6211\u4eec\u8981\u600e\u4e48\u83b7\u53d6\u5230\u76f8\u5173\u7684\u8bf7\u6c42\u53c2\u6570\u5462\uff1f\\n\\n\u5728\u540c\u4e00\u4e2asession\u4e0b\u7684\u4e00\u4e9b\u53c2\u6570\u4e00\u822c\u662f\u56fa\u5b9a\u7684\uff0c\u6545\u6211\u4eec\u53ef\u4ee5\u4ece\u524d\u9762\u7684\u8bf7\u6c42\u4e2d\u83b7\u53d6\u8bf7\u6c42\u6216\u8005\u8fd4\u56de\u53c2\u6570\u3002\u7136\u540e\u4f7f\u7528\u4ee3\u7801\u6a21\u62df\u8bf7\u6c42\u6765\u8fdb\u884c\u6570\u636e\u722c\u53bb\u3002\\n\\n## \u83b7\u53d6\u8fd4\u56de\u53c2\u6570\\n\\n\u4e0b\u9762\u6709\u4e24\u6bb5\u4ee3\u7801\u9700\u8981\u5904\u7406\u3002\\n\\n#### Ajax-hook\u4ee3\u7801\\n\\n```javascript\\n// \u62e6\u622a\u6ce8\u5165\\n!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};return n.m=t,n.c=r,n.p=\\"\\",n(0)}([function(t,n,r){r(1)(window)},function(t,n){t.exports=function(t){var n=\\"RealXMLHttpRequest\\";t.hookAjax=function(t){function r(n){return function(){var r=this.hasOwnProperty(n+\\"_\\")?this[n+\\"_\\"]:this.xhr[n],e=(t[n]||{}).getter;return e&&e(r,this)||r}}function e(n){return function(r){var e=this.xhr,i=this,o=t[n];if(\\"function\\"==typeof o)e[n]=function(){t[n](i)||r.apply(e,arguments)};else{var u=(o||{}).setter;r=u&&u(r,i)||r;try{e[n]=r}catch(t){this[n+\\"_\\"]=r}}}}function i(n){return function(){var r=[].slice.call(arguments);if(!t[n]||!t[n].call(this,r,this.xhr))return this.xhr[n].apply(this.xhr,r)}}return window[n]=window[n]||XMLHttpRequest,XMLHttpRequest=function(){var t=new window[n];for(var o in t){var u=\\"\\";try{u=typeof t[o]}catch(t){}\\"function\\"===u?this[o]=i(o):Object.defineProperty(this,o,{get:r(o),set:e(o),enumerable:!0})}this.xhr=t},window[n]},t.unHookAjax=function(){window[n]&&(XMLHttpRequest=window[n]),window[n]=void 0},t.default=t}}]);\\n```\\n\\n\u8fd9\u4e2a\u662f[Ajax-hook\u9879\u76ee](https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fwendux%2FAjax-hook)\u7684\u4ee3\u7801\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\\\\<script\\\\>\u7684\u6807\u7b7e\u6765\u8fdb\u884c\u6ce8\u5165\uff0c\u6709\u65f6\u5019\u56de\u89e6\u53d1\u7f51\u7ad9\u7684\u5b89\u5168\u673a\u5236\uff0c\u6240\u4ee5\u63a8\u8350\u76f4\u63a5\u4ece\u63a7\u5236\u53f0\u8fd0\u884c\u6574\u6bb5\u4ee3\u7801\u3002\\n\\n#### \u8bf7\u6c42\u56de\u8c03\u914d\u7f6e\\n\\n```javascript\\n/**\\n * \u6253\u5370xhr\u5bf9\u8c61\\n * @param {*} xhr \\n */\\nfunction printXhr(xhr) {\\n  console.log(\\"printXhr\\");\\n  console.log(\\"XMLHttpRequest\\", xhr);\\n  console.log(\\"XMLHttpRequest.responseText\\", xhr.responseText);\\n}\\n\\n// \u8bbe\u7f6e\u62e6\u622a\u56de\u8c03\\nhookAjax({\\n  open: function(arg, xhr) {\\n    console.log(\\"open\\", arg);\\n    printXhr(xhr);\\n  },\\n  //\u62e6\u622a\u56de\u8c03\\n  onreadystatechange: function(xhr) {\\n    console.log(\\"onreadystatechange called\\");\\n    printXhr(xhr);\\n  },\\n  onload: function(xhr) {\\n    console.log(\\"onload called\\");\\n    printXhr(xhr);\\n  }\\n});\\n```\\n\\n- open\uff1a\u8bf7\u6c42\u53d1\u8d77\u7684\u56de\u8c03\uff0c\u53ef\u4ee5\u5728args\u4e2d\u83b7\u53d6\u4e00\u4e9b\u53c2\u6570\u3002\\n- onreadystatechange\uff1a\u8fd4\u56de\u54cd\u5e94\u7ed3\u679c\u65f6\u88ab\u8c03\u7528\u3002\\n- onload\uff1ajQuery\u662f\u56de\u8c03\u7684onload\uff08\uff09\uff0c\u800c\u4e0d\u662fonreadystatechange()\u3002\\n\\n\u6240\u4ee5\u5efa\u8bae\u540c\u65f6\u62e6\u622aonload()\u548conreadystatechange()\u6765\u7f16\u5199\u903b\u8f91\u3002\\n\\n**\u62e6\u622a\u8bf7\u6c42\u4f8b\u5b50**\\n![](assets/16651546166330.jpg)\\n\\n## \u5728selenium\u4e2d\u53d6\u5f97\u6570\u636e\\n\\n- \u67e5\u8be2console\u6253\u5370\u65e5\u5fd7\uff0c\u901a\u8fc7\u5173\u952e\u5b57\u67e5\u8be2\u51fa\u60f3\u8981\u7684\u6570\u636e\u3002\\n- \u5728\u56de\u8c03\u4e2d\u589e\u52a0dom\uff0c\u628a\u76f8\u5173\u53c2\u6570\u5199\u5165\uff0c\u5728\u5728selenium\u83b7\u53d6\u76f8\u5173dom\u7684\u5c5e\u6027\u3002\\n\\n## \u76f8\u5173\u53c2\u8003\\n\\n[Ajax-hook\u9879\u76ee\uff08\u8bf7\u6c42\u62e6\u622a\uff09](https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fwendux%2FAjax-hook)\\n[XMLHttpRequest\u8bf4\u660e](https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/open)"},{"id":"/coding/\u524d\u7aef3D\u6846\u67b6\u9009\u578b","metadata":{"permalink":"/coding/\u524d\u7aef3D\u6846\u67b6\u9009\u578b","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/\u524d\u7aef3D\u6846\u67b6\u9009\u578b.md","source":"@site/blog/coding/\u524d\u7aef3D\u6846\u67b6\u9009\u578b.md","title":"\u524d\u7aef3D\u6846\u67b6\u9009\u578b","description":"three.js","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":3.425,"hasTruncateMarker":false,"authors":[],"frontMatter":{"tags":[],"title":"\u524d\u7aef3D\u6846\u67b6\u9009\u578b","date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165","permalink":"/coding/xhr\u8bf7\u6c42\u62e6\u622a \u52a8\u6001\u6ce8\u5165"},"nextItem":{"title":"\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb","permalink":"/coding/\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb"}},"content":"## [three.js](https://threejs.org/)\\n\\nThree.js\u662f\u7eaf\u6e32\u67d3\u5f15\u64ce\uff0c\u800c\u4e14\u4ee3\u7801\u6613\u8bfb\uff0c\u5bb9\u6613\u4f5c\u4e3a\u5b66\u4e60WebGL.3D\u56fe\u5f62.3D\u6570\u5b66\u5e94\u7528\u7684\u5e73\u53f0\uff0c\u4e5f\u53ef\u4ee5\u505a\u4e2d\u5c0f\u578b\u7684\u91cd\u8868\u73b0\u7684Web\u9879\u76ee\u3002\\n\\n\u4f46\u5982\u679c\u8981\u505a\u4e2d\u5927\u578b\u9879\u76ee\uff0c\u5c24\u5176\u662f\u591a\u79cd\u5a92\u4f53\u6df7\u6742\u7684\u6216\u8005\u662f\u6e38\u620f\u9879\u76eeVR\u4f53\u9a8c\u9879\u76ee\uff0cThree.js\u5fc5\u987b\u8981\u914d\u5408\u66f4\u591a\u6269\u5c55\u5e93\u624d\u80fd\u5b8c\u6210\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u4f1a\u9700\u8981\u8054\u7f51\u901a\u4fe1\u529f\u80fd\u7684\u5c01\u88c5.\u58f0\u97f3\u666e\u901a\u63a7\u5236\u751a\u81f3\u9ad8\u7ea7\u9891\u8c31\u63a7\u5236.\u8f93\u5165\u8bbe\u5907\u4fe1\u606f\u7684\u5904\u7406\u7b49\u8bf8\u591a\u6e32\u67d3\u4ee5\u5916\u7684\u529f\u80fd\u3002\u8fd9\u65f6\u5019\uff0c\u5c31\u6bd4\u8f83\u9002\u5408\u4f7f\u7528[Babylon.js](https://www.babylonjs.com/)\u6216\u8005\u56fd\u5185\u7684\u4e00\u4e9b\u9488\u5bf9\u6e38\u620f\u548c\u591a\u5a92\u4f53\u5e94\u7528\u5f00\u53d1\u7684\u5f15\u64ce\u6216\u8005\u8bf4\u6846\u67b6\uff0c\u4f8b\u5982[LayaAir](https://layabox.com/)\u4ee5\u53ca[Egret3D](https://developer.egret.com/cn/)\u3002\\n\\n## Hightopo\\n\\n### \u4fe1\u606f\\n\\n[http://www.hightopo.com/blog/461.html](http://www.hightopo.com/blog/461.html)\\n\u6570\u767e\u4e2a HTML5 \u4f8b\u5b50\u5b66\u4e60 HT \u56fe\u5f62\u7ec4\u4ef6\\n\u638c\u63e1 HT \u57fa\u7840\uff1a\\n\\n1. \u5148\u5165\u95e8\u624b\u518c\xa0[http://www.hightopo.com/guide/guide/core/beginners/ht-beginners-guide.html](http://www.hightopo.com/guide/guide/core/beginners/ht-beginners-guide.html)\\n2. \u770b\u6570\u636e\u6a21\u578b\xa0[http://www.hightopo.com/guide/guide/core/datamodel/ht-datamodel-guide.html](http://www.hightopo.com/guide/guide/core/datamodel/ht-datamodel-guide.html)\\n3. \u9605\u77e2\u91cf\u624b\u518c\xa0[http://www.hightopo.com/guide/guide/core/vector/ht-vector-guide.html](http://www.hightopo.com/guide/guide/core/vector/ht-vector-guide.html)\\n4. \u8bfb\u6570\u636e\u7ed1\u5b9a\xa0[http://www.hightopo.com/guide/guide/core/databinding/ht-databinding-guide.html](http://www.hightopo.com/guide/guide/core/databinding/ht-databinding-guide.html)\\n5. \u5e8f\u5217\u5316\u673a\u5236\xa0[hightopo.com/guide/guide/core/serialization/ht-serialization-guide.html](http://hightopo.com/guide/guide/core/serialization/ht-serialization-guide.html)\\n\\n\u5982\u6709\u4e09\u7ef4\u9700\u6c42\uff1a\\n\\n1. \u5165\u95e8\u624b\u518c\xa0[http://www.hightopo.com/guide/guide/core/3d/ht-3d-guide.html](http://www.hightopo.com/guide/guide/core/3d/ht-3d-guide.html)\\n2. \u5efa\u6a21\u624b\u518c\xa0[http://www.hightopo.com/guide/guide/plugin/modeling/ht-modeling-guide.html](http://www.hightopo.com/guide/guide/plugin/modeling/ht-modeling-guide.html)\\n3. OBJ \u5bfc\u5165\xa0[http://www.hightopo.com/guide/guide/plugin/obj/ht-obj-guide.html](http://www.hightopo.com/guide/guide/plugin/obj/ht-obj-guide.html)\\n\\n## thing.js\\n\\n![image.png](assets/16651546006167.png)\\n\\n1. \u66f4\u5408\u7406\u7684API\u63a5\u53e3\u8bbe\u8ba1\\n2. \u5728\u7ebf\u7f16\u8f91\u5668\u3002\\n3. 3D\u6a21\u578b\u53ef\u4f7f\u7528 3Dmax\u7b49\u5de5\u5177\u6765\u521b\u5efa\uff0c\u5e76\u5bfc\u5165\u3002\\n4. \u81ea\u5e26\u7684\u5feb\u6377\u754c\u9762\u5e93\u66f4\u597d\u3002\\n\\n## \u5bf9\u6bd4\\n\\n1. 2D\u652f\u6301\uff1athings\u662f\u4e00\u4e2a\u5b8c\u6574\u76843D\u6846\u67b6\uff0c\u6ca1\u67092D\u76f8\u5173\u7684\u652f\u6301\uff0chightopo\u672c\u8eab\u652f\u63012D\u548c3D\u3002\\n2. \u6a21\u578b\uff1a\u5728\u73b0\u5b9e\u4e2d\u6240\u6709\u76843D\u6a21\u578b\\n   1. hightopo\\n      1. \u6ca1\u6709\u592a\u591a\u6a21\u578b\\n      2. \u652f\u6301obj\u683c\u5f0f\uff0c\u53ef\u4f7f\u7528\u5e38\u89c13D\u5efa\u6a21\u8f6f\u4ef6\u5f00\u53d1\u3002\\n         1. \u4e5f\u53ef\u5b8c\u5168\u81ea\u5b9a\u4e49\u6a21\u578b\u7684\u5b9a\u4e49\u9700\u8981\u5b9a\u4e49\u6240\u6709\u7684\u70b9\u548c\u52a8\u753b\\n   2. thingjs\\n      1. \u5df2\u6709\u4e0a\u5343\u514d\u8d39\u6a21\u578b\uff0c\u548c\u4e00\u4e9b\u53ef\u9009\u4ed8\u8d39\u6a21\u578b\u3002\\n      2. \u573a\u666f\u5b9a\u4e49\uff1a\u53ef\u521b\u5efa\u4e00\u4e9b\u6a21\u578b\u7684\u7ec4\u5408\u3002\\n      3. \u652f\u6301obj\uff0cgltf \u591a\u79cd\u683c\u5f0f\uff0c\u53ef\u4f7f\u7528\u5e38\u89c13D\u5efa\u6a21\u8f6f\u4ef6\u5f00\u53d1\u3002\\n3. \u6587\u6863API\uff1a\u5728\u6587\u6863\u548cAPI\u63d0\u4f9b\u5546\uff0cthingjs\u8fd9\u8fb9\u7684API\u8bbe\u8ba1\u66f4\u52a0\u7684\u5408\u7406\uff0c\u6587\u6863\u66f4\u597d\u7406\u89e3\uff0c\u4f8b\u5b50\u7684\u4ee3\u7801\u6ce8\u91ca\u4e5f\u6bd4\u8f83\u6e05\u6670\u3002\\n4. \u7ec4\u4ef6\uff1a\u90fd\u53ef\u4f7f\u7528\u5b98\u65b9\u7ec4\u4ef6\u6216\u8005\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u3002thingjs\u7684\u5b98\u65b9\u7ec4\u4ef6\u66f4\u6f02\u4eae\u3002\\n5. \u6570\u636e\u7ed3\u6784\uff1a\u6570\u636e\u7ed3\u6784\u5dee\u4e0d\u591a\uff0c\u4f46\u662f thingjs\u7684\u7ed3\u6784\u66f4\u52a0\u6e05\u6670\u7b80\u5355\u3002\u6587\u6863\u8bf4\u660e\u6e05\u695a\u3002\xa0hightopo\u7684\u5c5e\u6027\u90fd\u662f\u5806\u5728\u4e00\u5757\uff0c\u53ef\u80fd\u4e0a\u624b\u6210\u672c\u6bd4\u8f83\u9ad8\u3002\\n\\n## \u6846\u67b6\u9009\u62e9\\n\\n1. \u662f\u5426\u9700\u89812D\u529f\u80fd\uff1a\u662f\u7684\u8bdd \u6700\u597dhightopo\u3002\\n2. \u9700\u8981\u505a\u7684\u4e1c\u897f\u662f\u5426\u9ad8\u5ea6\u5339\u914dhightopo \u7684\u4f8b\u5b50\u3002\\n3. \u5176\u4ed6\u60c5\u51b5\u4e0b things \u5360\u4f18\u3002\\n\\n## \u5de5\u4f5c\u6d41\u7a0b\\n\\n1. \u9700\u8981\u6240\u9700\u6a21\u578b\\n2. \u521b\u5efa\u573a\u666f\u3002\\n3. \u6570\u636e\u5bf9\u63a5\uff1a\u5bf9\u63a5\u5f53\u524d\u8bbe\u5907\u7684\u4fe1\u606f\uff0c\u4fee\u6539\u5bf9\u5e94\u8bbe\u5907\u7684\u72b6\u6001\u3002\\n4. \u589e\u52a0\u7ec4\u4ef6\u754c\u9762\u3002\\n   1. \u589e\u52a0\\n   2. \u4fee\u6539\\n   3. \u4f4d\u79fb"},{"id":"/coding/\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb","metadata":{"permalink":"/coding/\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb.md","source":"@site/blog/coding/\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb.md","title":"\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb","description":"\u5728\u65e9\u671f\u7684docker\u7248\u672c \u662f\u6709\u914d\u7f6e\u9009\u9879\u6765\u914d\u7f6edocker\u7684\u955c\u50cf\u76f8\u5173\u6570\u636e\u7684\u5b58\u50a8\u8def\u5f84\u3002","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":0.855,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb","tags":[],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"\u524d\u7aef3D\u6846\u67b6\u9009\u578b","permalink":"/coding/\u524d\u7aef3D\u6846\u67b6\u9009\u578b"},"nextItem":{"title":"\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55","permalink":"/coding/\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55"}},"content":"\u5728\u65e9\u671f\u7684docker\u7248\u672c \u662f\u6709\u914d\u7f6e\u9009\u9879\u6765\u914d\u7f6edocker\u7684\u955c\u50cf\u76f8\u5173\u6570\u636e\u7684\u5b58\u50a8\u8def\u5f84\u3002\\n\u5347\u7ea7\u4e00\u4e0b\uff0c\u7a81\u7136\u53d1\u73b0\u6ca1\u6709\u4e86\u3002\\n\\n\u968f\u7740\u62c9\u53d6\u7684\u955c\u50cf\u548c\u8dd1\u8d77\u6765\u7684\u5bb9\u5668\u8d8a\u6765\u8d8a\u591a\uff0c\u53d1\u73b0C\u76d8\u5df2\u7136\u4e0d\u8db3\u3002\\n\u73b0\u5728\u7684\u7248\u672c\u4e3b\u8981\u662f\u56e0\u4e3a docker\u662f\u57fa\u4e8ewsl\u6765\u505a\u865a\u62df\u673a\u7ba1\u7406\u3002\u6211\u4eec\u9700\u8981\u628adocker\u76f8\u5173\u7684\u865a\u62df\u673a\u7684\u78c1\u76d8\u8fc1\u79fb\u5230\u522b\u7684\u786c\u76d8\u3002\\n\\n\u4e0b\u9762\u662f\u6211\u7684\u64cd\u4f5c\u8fc7\u7a0b\uff1a\\n\\n\u5173\u95eddocker desktop\\n\\n\u5bfc\u51fadocker\u7684\u53d1\u884c\u7248\\nwsl --export docker-desktop-data G:\\\\hyper\\\\docker-desktop-data.tar\\n\\n\u6ce8\u9500docker-desktop-data\\nwsl --unregister docker-desktop-data\\n\\n\u91cd\u65b0\u5bfc\u5165docker-desktop-data\u5230\u8981\u5b58\u653e\u7684\u6587\u4ef6\u5939:\\nwsl --import docker-desktop-data G:\\\\hyper\\\\docker-desktop-data\\\\ G:\\\\hyper\\\\docker-desktop-data.tar--version 2\\n![image.png](assets/16651543331793.png)\\n\\n\u5220\u9664\u538b\u7f29\u5305\\nrm G:\\\\hyper\\\\docker-desktop-data.tar\\n\\n\u542f\u52a8docker desktop"},{"id":"/coding/\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55","metadata":{"permalink":"/coding/\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55","editUrl":"https://github.com/wuhanchu/whc_blog/edit/main/website/blog/blog/coding/\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55.md","source":"@site/blog/coding/\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55.md","title":"\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55","description":"\u6211\u4eec\u4f7f\u7528flask\u6765\u8fdb\u884c\u8fdb\u884c\u540e\u53f0\u7684","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[],"readingTime":2.505,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u5c0f\u7a0b\u5e8foauth2.0\u767b\u5f55","tags":[],"date":"2021-08-01T00:00:00.000Z"},"prevItem":{"title":"\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb","permalink":"/coding/\u5728windows\u4e0b\u8fdb\u884cdocker\u5b58\u50a8\u76ee\u5f55\u7684\u8fc1\u79fb"}},"content":"\u6211\u4eec\u4f7f\u7528flask\u6765\u8fdb\u884c\u8fdb\u884c\u540e\u53f0\u7684\\n\\n## \u5c0f\u7a0b\u5e8f\\n\\n#### taro\u7684oauth\u5de5\u5177\u7c7b\\n\\n\u56e0\u4e3ataro\u6ca1\u6709\u76f8\u5e94\u7684oauth\u5e93\uff0c\u6240\u4ee5\u6211\u5355\u72ec\u5199\u4e86\u4e00\u4e2a\u57fa\u4e8etaro\u7684oauth\u5de5\u5177\u7c7b\u3002\\n\\n```javascript\\nimport querystring from \'querystring\'\\nimport base64 from \'base64-utf8\'\\nimport Taro from \'@tarojs/taro\'\\nimport {remoteUrl} from \\"./request\\";\\nimport config from \\"../config\\";\\n\\n\\nexport default class OAuth2 {\\n  constructor({clientId, clientSecret, baseSite, authorizePath, accessTokenPath, callbackURL, customHeaders}) {\\n    this._clientId = clientId;\\n    this._clientSecret = clientSecret;\\n    this._baseSite = baseSite;\\n    this._authorizeUrl = authorizePath || \\"/oauth/authorize\\";\\n    this._accessTokenUrl = accessTokenPath || \\"/oauth/access_token\\";\\n    this._callbackURL = callbackURL;\\n    this._accessTokenName = \\"access_token\\";\\n    this._authMethod = \\"Basic\\";\\n    this._customHeaders = customHeaders || {};\\n  }\\n\\n  /**\\n   * \u521b\u5efa\u62a5\u5934\\n   * @returns {string}\\n   */\\n  buildAuthHeader() {\\n    const key = this._clientId + \':\' + this._clientSecret;\\n    const str = base64.encode(key);\\n    return this._authMethod + \' \' + str;\\n  };\\n\\n  _getAccessTokenUrl = function () {\\n    return this._baseSite + this._accessTokenUrl;\\n  }\\n\\n  /**\\n   * \u83b7\u53d6oath \u7684\u5bc6\u7801\u767b\u5f55\u6a21\u5f0f\\n   * @param clientId\\n   * @param clientSerect\\n   * @param username\\n   * @param password\\n   * @returns {Promise<any>}\\n   */\\n  getOAuthPasswordCredentials(username, password, user) {\\n    return new Promise((resolve, reject) => {\\n      const postData = \'grant_type=password&username=\' + username + \'&password=\' + password + \\"&user=\\" + user;\\n      const postHeaders = {\\n        \'Authorization\': this.buildAuthHeader(),\\n        \'Content-Type\': \'application/x-www-form-urlencoded\'\\n      };\\n\\n      const url = this._getAccessTokenUrl()\\n      Taro.request({\\n        method: \\"POST\\", url, header: postHeaders, data: postData, dataType: \'form\', success: (res) => {\\n          resolve(this.getResults(res.data))\\n        }, fail: (error) => {\\n          reject(error)\\n        }\\n      });\\n    });\\n  }\\n\\n  /**\\n   * \u89e3\u6790\u7ed3\u679c\\n   * @param data\\n   * @returns {*}\\n   */\\n  getResults(data) {\\n    let results;\\n    try {\\n      results = JSON.parse(data);\\n    } catch (e) {\\n      results = querystring.parse(data);\\n    }\\n    return results;\\n  }\\n}\\n\\n\\n\\n```\\n\\n#### \u5c0f\u7a0b\u5e8f\u8bf7\u6c42\\n\\n\u5728\u5c0f\u7a0b\u5e8f\u7684\u8bf7\u6c42\u8c03\u7528\u4e2d\uff0c\u57fa\u672c\u8ddfoauth2.0\u7684\u64cd\u4f5c\u5dee\u4e0d\u591a\u3002\\n\\n```javascript\\n// todo init access_token\\nconst oauthClient = new OAuth2({\\n  clientId: \'wx_small\',\\n  baseSite: config.remoteUrl,\\n  accessTokenPath: \\"/auth/oauth2/token\\"\\n});\\n\\n\\n/**\\n * \u66f4\u65b0tokengetUserInfo\\n * @returns {Promise<void>}\\n */\\nexport async function refreshToken() {\\n  // get the code\\n  while (refreshing) {\\n    await waitInternal(1000);\\n  }\\n\\n  let token = Taro.getStorageSync(\\"token\\");\\n  if (token) {\\n    return JSON.parse(token);\\n  }\\n\\n  refreshing = true;\\n  try {\\n    // \u83b7\u53d6\u5c0f\u7a0b\u5e8f\u4f7f\u7528 code\\n    const code = await wxLogin();\\n    if (!code) {\\n      return null;\\n    }\\n\\n    // \u83b7\u53d6\u7528\u6237\\n    const wxUser = await wxGetUserInfo();\\n\\n    // shuang xin\\n    token = await oauthClient.getOAuthPasswordCredentials(\\n      \\"wx_small\\",\\n      code,\\n      wxUser.rawData \\n    );\\n\\n    token.expires = Date.now() + token.expires_in * 1000;\\n    Taro.setStorageSync(\\"token\\", JSON.stringify(token));\\n    return token;\\n  } finally {\\n    refreshing = false;\\n  }\\n}\\n\\n```\\n\\n## \u540e\u53f0\\n\\n#### \u540e\u53f0\u9a8c\u8bc1\u6a21\u5757\\n\\n\u540e\u53f0\u9a8c\u8bc1\u7528\u6237\u7684\u4ee3\u7801\u5199\u5728\xa0 \xa0\xa0auth/oauth2.py\u6587\u4ef6\u4e2d\u3002\\n![image.png](assets/16651546114346.png)\\n\\n#### \u83b7\u53d6\u7528\u6237\\n\\n\u56e0\u4e3a\u6211\u4f1a\u4f7f\u7528flask_login\u6765\u4f5c\u4e3a\u4e00\u4e2a\u6a21\u62df\u767b\u5f55\u7684\u64cd\u4f5c\u3002\\n\u540e\u53f0\u60f3\u8981\u83b7\u53d6\u7528\u6237\u53ea\u9700\u8981\uff1a\\n\\n```python\\n// current_user \u5c31\u662f \u5fae\u4fe1\u7528\u6237\u5bf9\u8c61\\nfrom flask_login import current_user\\n```"}]}')}}]);